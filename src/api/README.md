# REST API –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –ò–¥–µ–π

## –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

- **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: `/api/v1/`
- **–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤**: JSON
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT —Ç–æ–∫–µ–Ω—ã
- **–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ HTTP –∫–æ–¥—ã
- **CORS**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
```json
{
  "success": true,
  "data": { ... },
  "message": "–û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ"
}
```

### –û—à–∏–±–∫–∞
```json
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
    "details": { ... }
  }
}
```

## API Endpoints

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (/api/v1/auth)

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
|-------|----------|----------|----------------|
| POST | `/api/v1/auth/login` | –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É | - |
| POST | `/api/v1/auth/register` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è | - |
| POST | `/api/v1/auth/refresh` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ | JWT |
| POST | `/api/v1/auth/logout` | –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã | JWT |

### üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (/api/v1/users)

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
|-------|----------|----------|----------------|
| GET | `/api/v1/users/profile` | –ü—Ä–æ—Ñ–∏–ª—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | JWT |
| PUT | `/api/v1/users/profile` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è | JWT |
| GET | `/api/v1/users/{id}` | –ü—É–±–ª–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | JWT |

### üí° –ò–¥–µ–∏ (/api/v1/ideas)

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
|-------|----------|----------|----------------|
| GET | `/api/v1/ideas` | –°–ø–∏—Å–æ–∫ –∏–¥–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π | JWT |
| GET | `/api/v1/ideas/{id}` | –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∏–¥–µ—è —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π | JWT |
| POST | `/api/v1/ideas` | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∏–¥–µ–∏ | JWT |
| PUT | `/api/v1/ideas/{id}` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–¥–µ–∏ (–∞–≤—Ç–æ—Ä –∏–ª–∏ –∞–¥–º–∏–Ω) | JWT |
| DELETE | `/api/v1/ideas/{id}` | –£–¥–∞–ª–µ–Ω–∏–µ –∏–¥–µ–∏ (–∞–≤—Ç–æ—Ä –∏–ª–∏ –∞–¥–º–∏–Ω) | JWT |
| GET | `/api/v1/ideas/top` | –¢–æ–ø –∏–¥–µ–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥ | JWT |
| GET | `/api/v1/ideas/my` | –ú–æ–∏ –∏–¥–µ–∏ | JWT |

### üó≥Ô∏è –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ (/api/v1/votes)

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
|-------|----------|----------|----------------|
| POST | `/api/v1/ideas/{id}/vote` | –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –∑–∞ –∏–¥–µ—é | JWT |
| DELETE | `/api/v1/ideas/{id}/vote` | –û—Ç–º–µ–Ω–∞ –≥–æ–ª–æ—Å–∞ | JWT |
| GET | `/api/v1/ideas/{id}/votes` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥–æ–ª–æ—Å–æ–≤ –ø–æ –∏–¥–µ–µ | JWT |

### üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (/api/v1/comments)

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
|-------|----------|----------|----------------|
| GET | `/api/v1/ideas/{id}/comments` | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∏–¥–µ–µ | JWT |
| POST | `/api/v1/ideas/{id}/comments` | –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | JWT |
| PUT | `/api/v1/comments/{id}` | –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | JWT |
| DELETE | `/api/v1/comments/{id}` | –£–¥–∞–ª–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | JWT |

### üëë –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ (/api/v1/admin)

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
|-------|----------|----------|----------------|
| GET | `/api/v1/admin/ideas` | –í—Å–µ –∏–¥–µ–∏ –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ | Admin JWT |
| PUT | `/api/v1/admin/ideas/{id}/status` | –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∏–¥–µ–∏ | Admin JWT |
| GET | `/api/v1/admin/statistics` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã | Admin JWT |
| GET | `/api/v1/admin/users` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ | Admin JWT |

### üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (/api/v1/analytics)

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
|-------|----------|----------|----------------|
| GET | `/api/v1/analytics/dashboard` | –î–∞–Ω–Ω—ã–µ –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞ | JWT |
| GET | `/api/v1/analytics/ideas/trends` | –¢—Ä–µ–Ω–¥—ã –ø–æ –∏–¥–µ—è–º | JWT |
| GET | `/api/v1/analytics/export` | –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö | JWT |

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü–∞–≥–∏–Ω–∞—Ü–∏—è
- `page` - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1)
- `limit` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 20, –º–∞–∫—Å–∏–º—É–º 100)

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏–¥–µ–π
- `status` - —Å—Ç–∞—Ç—É—Å –∏–¥–µ–∏ (pending, approved, rejected)
- `category` - –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∏–¥–µ–∏
- `author_id` - ID –∞–≤—Ç–æ—Ä–∞
- `created_from` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å
- `created_to` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ
- `search` - –ø–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É

### –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- `sort_by` - –ø–æ–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (created_at, likes_count, popularity_rank)
- `sort_order` - –ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (asc, desc)

## –ö–æ–¥—ã –æ—à–∏–±–æ–∫

- `AUTH_REQUIRED` - –¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `ACCESS_DENIED` - –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- `VALIDATION_ERROR` - –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- `NOT_FOUND` - –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
- `RATE_LIMITED` - –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤
- `INTERNAL_ERROR` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞